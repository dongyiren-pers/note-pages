(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{988:function(s,t,a){"use strict";a.r(t);var r=a(14),n=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"第3章-关系数据库标准语言sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第3章-关系数据库标准语言sql"}},[s._v("#")]),s._v(" 第3章 关系数据库标准语言SQL")]),s._v(" "),a("h2",{attrs:{id:"_3-1-sql概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-sql概述"}},[s._v("#")]),s._v(" 3.1 SQL概述")]),s._v(" "),a("p",[s._v("SQL：结构化查询语言，是关系数据库的标准语言。")]),s._v(" "),a("h3",{attrs:{id:"sql-的特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql-的特点"}},[s._v("#")]),s._v(" SQL 的特点")]),s._v(" "),a("ul",[a("li",[s._v("综合统一；")]),s._v(" "),a("li",[s._v("高度非过程化；")]),s._v(" "),a("li",[s._v("而向 "),a("strong",[s._v("集合")]),s._v(" 的操作方式；")]),s._v(" "),a("li",[s._v("以同一种语法结构提供两种使用方式（独立语言、嵌入式语言）；")]),s._v(" "),a("li",[s._v("语言简洁，易学易用。")])]),s._v(" "),a("h3",{attrs:{id:"sql-的基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql-的基本概念"}},[s._v("#")]),s._v(" SQL 的基本概念")]),s._v(" "),a("p",[a("strong",[s._v("基本表")]),s._v(" 是本身独立存在的表，在SQL中一个关系就对应一个基本表。")]),s._v(" "),a("p",[a("strong",[s._v("视图")]),s._v(" 是从一个或几个"),a("strong",[s._v("基本表导出的表")]),s._v("。视图本身不独立存储在数据库中，是一个"),a("strong",[s._v("虚表")]),s._v("。即数据库中 "),a("strong",[s._v("只存放视图的定义")]),s._v(" 而不存放视图对应的数据，这些数据仍存放在导出视图的基本表中。视图在概念上与基本表等同，用户可以如同基本表那样使用视图，可以在视图上再定义视图。")]),s._v(" "),a("h2",{attrs:{id:"_3-2-学生-课程数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-学生-课程数据库"}},[s._v("#")]),s._v(" 3.2 学生-课程数据库")]),s._v(" "),a("p",[s._v("学生-课程模式 S-T：")]),s._v(" "),a("ul",[a("li",[s._v("学生表：Student(Sno,Sname,Ssex,Sage,Sdept)")]),s._v(" "),a("li",[s._v("课程表：Course(Cno,Cname,Cpno,Ccredit)")]),s._v(" "),a("li",[s._v("学生选课表：SC(Sno,Cno,Grade)")])]),s._v(" "),a("h2",{attrs:{id:"_3-3-数据定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-数据定义"}},[s._v("#")]),s._v(" 3.3 数据定义")]),s._v(" "),a("h3",{attrs:{id:"模式的定义与删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模式的定义与删除"}},[s._v("#")]),s._v(" 模式的定义与删除")]),s._v(" "),a("p",[s._v("一个数据库中可以建立多个模式（Schema） 。")]),s._v(" "),a("p",[s._v("定义模式实际上定义了一个 "),a("strong",[s._v("命名空间")]),s._v("。在这个空间中可以定义该模式包含的数据库对象，例如基本表、视图、索引等。")]),s._v(" "),a("p",[s._v("定义模式：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SCHEMA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("模式名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTHORIZATION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("用户名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("删除模式：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SCHEMA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("模式名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RESTRICT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("ul",[a("li",[s._v("CASCADE（级联）：删除模式的同时把该模式中所有的数据库对象全部删除。")]),s._v(" "),a("li",[s._v("RESTRICT（限制）：如果该模式中定义了下属的数据库对象（如表、视图等），则拒绝该删除语句的执行。仅当该模式中没有任何下属的对象时才能执行。")])]),s._v(" "),a("h3",{attrs:{id:"基本表的定义、删除与修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本表的定义、删除与修改"}},[s._v("#")]),s._v(" 基本表的定义、删除与修改")]),s._v(" "),a("p",[s._v("定义基本表：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("数据类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列级完整性约束条件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("数据类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列级完整性约束条件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n…\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表级完整性约束条件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("修改基本表：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("新列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("数据类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" 完整性约束 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表级完整性约束"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RESTRICT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("完整性约束名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RESTRICT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("数据类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("删除基本表：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("［"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RESTRICT")]),s._v("］"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("ul",[a("li",[s._v("CASCADE：删除该表没有限制。在删除基本表的同时，相关的依赖对象一起删除。")]),s._v(" "),a("li",[s._v("RESTRICT：删除表是有限制的。欲删除的基本表不能被其他表的约束所引用。如果存在依赖该表的对象，则此表不能被删除。")])]),s._v(" "),a("h3",{attrs:{id:"索引的建立与删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的建立与删除"}},[s._v("#")]),s._v(" 索引的建立与删除")]),s._v(" "),a("p",[s._v("建立索引：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CLUSTER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("索引名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("次序"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("次序"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("ul",[a("li",[s._v("<次序>：指定索引值的排列次序，升序：ASC，降序：DESC。缺省值：ASC。")]),s._v(" "),a("li",[s._v("UNIQUE：此索引的每一个索引值只对应 "),a("strong",[s._v("唯一")]),s._v(" 的数据记录。")]),s._v(" "),a("li",[s._v("CLUSTER：表示要建立的索引是 "),a("strong",[s._v("聚簇索引")]),s._v("。")])]),s._v(" "),a("p",[s._v("修改索引：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("旧索引名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("新索引名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("删除索引：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("索引名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h2",{attrs:{id:"_3-4-数据查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-数据查询"}},[s._v("#")]),s._v(" 3.4 数据查询")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("目标列表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("目标列表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" …\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名或视图名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名或视图名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("…"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" 语句"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("别名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("条件表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("条件表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"单表查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单表查询"}},[s._v("#")]),s._v(" 单表查询")]),s._v(" "),a("h4",{attrs:{id:"where-子句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-子句"}},[s._v("#")]),s._v(" WHERE 子句")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("查询条件")]),s._v(" "),a("th",[s._v("谓词")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("比较")]),s._v(" "),a("td",[s._v("=, >, <, >=, <=, !=, <>, !>, !<; NOT+上述比较运算符")])]),s._v(" "),a("tr",[a("td",[s._v("确定范围")]),s._v(" "),a("td",[s._v("BETWEEN  AND,  NOT  BETWEEN AND")])]),s._v(" "),a("tr",[a("td",[s._v("确定集合")]),s._v(" "),a("td",[s._v("IN, NOT  IN")])]),s._v(" "),a("tr",[a("td",[s._v("字符匹配")]),s._v(" "),a("td",[s._v("LIKE, NOT  LIKE")])]),s._v(" "),a("tr",[a("td",[s._v("空  值")]),s._v(" "),a("td",[s._v("IS  NULL,  IS  NOT NULL")])]),s._v(" "),a("tr",[a("td",[s._v("多重条件（逻辑运算）")]),s._v(" "),a("td",[s._v("AND, OR, NOT")])])])]),s._v(" "),a("div",{staticClass:"anchor",attrs:{id:"字符匹配"}},[s._v("字符匹配")]),a("p",[s._v("谓词：[NOT] LIKE  '<匹配串>'  [ESCAPE  '<换码字符>']")]),s._v(" "),a("p",[s._v("通配符：")]),s._v(" "),a("ul",[a("li",[s._v("% （百分号）：代表任意长度（长度可以为 0）的字符串")]),s._v(" "),a("li",[s._v("_ （下横线） ：代表任意单个字符。")])]),s._v(" "),a("p",[s._v("使用换码字符将通配符转义为普通字符：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Cno，Ccredit\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Course\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Cname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DB\\_Design'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ESCAPE")]),s._v(" '\\'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"order-by-子句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#order-by-子句"}},[s._v("#")]),s._v(" ORDER BY 子句")]),s._v(" "),a("p",[s._v("可以按一个或多个属性列排序。")]),s._v(" "),a("p",[s._v("升序：ASC；降序：DESC；缺省值为升序。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Grade\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Cno"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Grade "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"聚集函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚集函数"}},[s._v("#")]),s._v(" 聚集函数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("聚合函数")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("COUNT(*)")])]),s._v(" "),a("td",[s._v("统计元组个数")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("COUNT([DISTINCT|ALL] <列名>)")])]),s._v(" "),a("td",[s._v("统计一列中值的个数")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("SUM([DISTINCT|ALL] <列名>)")])]),s._v(" "),a("td",[s._v("计算一列值的总和（此列必须为数值型）")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("AVG([DISTINCT|ALL] <列名>)")])]),s._v(" "),a("td",[s._v("计算一列值的平均值（此列必须为数值型）")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("MAX([DISTINCT|ALL] <列名>)")])]),s._v(" "),a("td",[s._v("求一列中的最大值")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("MIN([DISTINCT|ALL] <列名>)")])]),s._v(" "),a("td",[s._v("求一列中的最小值")])])])]),s._v(" "),a("h4",{attrs:{id:"group-by-子句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#group-by-子句"}},[s._v("#")]),s._v(" GROUP BY 子句")]),s._v(" "),a("p",[s._v("按指定的一列或多列值分组，值相等的为一组。")]),s._v(" "),a("p",[s._v("细化聚集函数的作用对象： 对查询结果分组后，聚集函数将分别作用于每个组。")]),s._v(" "),a("p",[a("strong",[s._v("HAVING")]),s._v(" 短语与 WHERE 子句的区别：HAVING 短语作用于 "),a("strong",[s._v("组")]),s._v("，从中选择满足条件的组；WHERE 子句作用于 "),a("strong",[s._v("基表或视图")]),s._v("，从中选择满足条件的元组。")]),s._v(" "),a("h3",{attrs:{id:"连接查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接查询"}},[s._v("#")]),s._v(" 连接查询")]),s._v(" "),a("h4",{attrs:{id:"等值与非等值连接查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#等值与非等值连接查询"}},[s._v("#")]),s._v(" 等值与非等值连接查询")]),s._v(" "),a("div",{staticClass:"anchor",attrs:{id:"等值连接"}},[s._v("等值连接")]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("div",{staticClass:"anchor",attrs:{id:"自然连接"}},[s._v("自然连接")]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Ssex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sdept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Cno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Grade\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"自身连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自身连接"}},[s._v("#")]),s._v(" 自身连接")]),s._v(" "),a("p",[s._v("自身连接：一个表与其自己进行连接。")]),s._v(" "),a("blockquote",[a("p",[s._v("需要给表起别名以示区别。")])]),s._v(" "),a("p",[s._v("示例：查询每一门课的间接先修课。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SECOND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cpno\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Course "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Course "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SECOND")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cpno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SECOND")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"外连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外连接"}},[s._v("#")]),s._v(" 外连接")]),s._v(" "),a("p",[s._v("外连接操作以指定表为连接主体，将主体表中不满足连接条件的元组一并输出。")]),s._v(" "),a("ul",[a("li",[s._v("左外连接：列出左边关系中所有的元组；")]),s._v(" "),a("li",[s._v("右外连接：列出右边关系中所有的元组。")])]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Ssex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sdept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Cno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Grade\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" SC "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),a("h4",{attrs:{id:"多表连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多表连接"}},[s._v("#")]),s._v(" 多表连接")]),s._v(" "),a("p",[s._v("两个以上的表进行连接。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Grade\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Course \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Course"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"嵌套查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#嵌套查询"}},[s._v("#")]),s._v(" 嵌套查询")]),s._v(" "),a("p",[s._v("一个 SELECT-FROM-WHERE 语句称为一个 "),a("strong",[s._v("查询块")]),s._v("。")]),s._v(" "),a("p",[s._v("将一个查询块嵌套在另一个查询块的 WHERE 子句或 HAVING 短语的条件中的查询称为 "),a("strong",[s._v("嵌套查询")]),s._v("。")]),s._v(" "),a("p",[s._v("子查询不能使用 ORDER BY 子句。")]),s._v(" "),a("div",{staticClass:"anchor",attrs:{id:"嵌套查询求解方法"}},[s._v("嵌套查询求解方法")]),a("p",[a("strong",[s._v("不相关子查询")]),s._v("：子查询的查询条件不依赖于父查询。")]),s._v(" "),a("ul",[a("li",[s._v("由里向外，逐层处理。即每个子查询在上一级查询处理之前求解，"),a("strong",[s._v("子查询的结果用于建立其父查询的查找条件")]),s._v("。")])]),s._v(" "),a("p",[a("strong",[s._v("相关子查询")]),s._v("：子查询的查询条件依赖于父查询。")]),s._v(" "),a("ul",[a("li",[s._v("首先取外层查询中表的第一个元组，根据它与内层查询相关的属性值处理内层查询，"),a("strong",[s._v("若 WHERE 子句返回值为真，则取此元组放入结果表。")])]),s._v(" "),a("li",[s._v("然后再取外层表的下一个元组。重复这一过程，直至外层表全部检查完为止。")])]),s._v(" "),a("h4",{attrs:{id:"带有-in-谓词的子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带有-in-谓词的子查询"}},[s._v("#")]),s._v(" 带有 IN 谓词的子查询")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Sdept\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sdept\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'刘晨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"带有比较运算符的子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带有比较运算符的子查询"}},[s._v("#")]),s._v(" 带有比较运算符的子查询")]),s._v(" "),a("p",[s._v("当能确切知道内层查询返回单值时，可用比较运算符。")]),s._v(" "),a("p",[s._v("示例：由于一个学生只可能在一个系学习，则可以用 = 代替 IN：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sdept\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sdept\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'刘晨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("示例：找出每个学生超过他选修课程平均成绩的课程号。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cno\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC x\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC y\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相关子查询 ")]),s._v("\n")])])]),a("h4",{attrs:{id:"带有-any-或-all-谓词的子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带有-any-或-all-谓词的子查询"}},[s._v("#")]),s._v(" 带有 ANY 或 ALL 谓词的子查询")]),s._v(" "),a("p",[s._v("使用 ANY 或 ALL 谓词时必须同时使用比较运算。")]),s._v(" "),a("p",[s._v("示例：查询非计算机科学系中比计算机科学系任意一个学生年龄小的学生姓名和年龄。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ANY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sage\n                  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n                  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CS'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("           \n")])])]),a("h4",{attrs:{id:"带有-exists-谓词的子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带有-exists-谓词的子查询"}},[s._v("#")]),s._v(" 带有 EXISTS 谓词的子查询")]),s._v(" "),a("p",[s._v("带有 EXISTS 谓词的子查询不返回任何数据，"),a("strong",[s._v("只产生逻辑真值 “true” 或逻辑假值 “false”。")])]),s._v(" "),a("p",[s._v("示例：查询所有选修了 1 号课程的学生姓名。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sname\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" Cno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"集合查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集合查询"}},[s._v("#")]),s._v(" 集合查询")]),s._v(" "),a("h4",{attrs:{id:"并操作-union"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#并操作-union"}},[s._v("#")]),s._v(" 并操作 UNION")]),s._v(" "),a("p",[s._v("示例：查询计算机科学系的学生及年龄不大于 19 岁的学生。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CS'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"交操作-intersect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交操作-intersect"}},[s._v("#")]),s._v(" 交操作 INTERSECT")]),s._v(" "),a("p",[s._v("示例：查询既选修了课程 1 又选修了课程 2 的学生。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Cno"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' 1 '")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTERSECT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Cno"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2 '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"差操作-except"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#差操作-except"}},[s._v("#")]),s._v(" 差操作 EXCEPT")]),s._v(" "),a("p",[s._v("示例：查询计算机科学系的学生与年龄不大于 19 岁的学生的差集。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'CS'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXCEPT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"基于派生表的查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于派生表的查询"}},[s._v("#")]),s._v(" 基于派生表的查询")]),s._v(" "),a("p",[s._v("子查询不仅可以出现在 WHERE 子句中，"),a("strong",[s._v("还可以出现在 FROM 子句中")]),s._v("，这时子查询生成的 "),a("strong",[s._v("临时派生表")]),s._v(" 成为主查询的查询对象。")]),s._v(" "),a("p",[s._v("示例：找出每个学生超过他自己选修课程平均成绩的课程号。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cno\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" Avg_sc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg_sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" avg_grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Avg_sc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("avg_sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" SC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Grade "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" Avg_sc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("avg_grade\n")])])]),a("p",[s._v("如果子查询中没有聚集函数，派生表可以不指定属性列，子查询 SELECT 子句后面的列名为其缺省属性。")]),s._v(" "),a("h2",{attrs:{id:"_3-5-数据更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-数据更新"}},[s._v("#")]),s._v(" 3.5 数据更新")]),s._v(" "),a("h3",{attrs:{id:"插入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入数据"}},[s._v("#")]),s._v(" 插入数据")]),s._v(" "),a("h4",{attrs:{id:"插入元组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入元组"}},[s._v("#")]),s._v(" 插入元组")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("属性列"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("属性列"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("常量"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("常量"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("… "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("INTO 子句：")]),s._v(" "),a("ul",[a("li",[s._v("指定要插入数据的表名及属性列；")]),s._v(" "),a("li",[s._v("属性列的顺序可与表定义中的顺序不一致；")]),s._v(" "),a("li",[s._v("没有指定属性列：表示要插入的是一条完整的元组，且属性列属性与表定义中的顺序一致；")]),s._v(" "),a("li",[s._v("指定部分属性列：插入的元组在其余属性列上取空值。")])]),s._v(" "),a("p",[s._v("VALUES 子句：提供的值必须与 INTO 子句匹配")]),s._v(" "),a("ul",[a("li",[s._v("值的个数")]),s._v(" "),a("li",[s._v("值的类型")])]),s._v(" "),a("h4",{attrs:{id:"插入子查询结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入子查询结果"}},[s._v("#")]),s._v(" 插入子查询结果")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("属性列"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("属性列"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("…  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n子查询"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("子查询：SELECT 子句目标列必须与 INTO 子句匹配")]),s._v(" "),a("ul",[a("li",[s._v("值的个数")]),s._v(" "),a("li",[s._v("值的类型")])]),s._v(" "),a("p",[s._v("示例：对每一个系，求学生的平均年龄，并把结果存入数据库。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Dept_age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sdept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Avg_age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sdept，"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Sdept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("关系数据库管理系统在执行插入语句时会检查所插元组是否破坏表上已定义的完整性规则。")]),s._v(" "),a("h3",{attrs:{id:"修改数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改数据"}},[s._v("#")]),s._v(" 修改数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表达式"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("…\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("条件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("关系数据库管理系统在执行修改语句时会检查修改操作是否破坏表上已定义的完整性规则。")]),s._v(" "),a("h3",{attrs:{id:"删除数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除数据"}},[s._v("#")]),s._v(" 删除数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("条件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("缺省表示要删除表中的全部元组，表的定义仍在字典中。")]),s._v(" "),a("h2",{attrs:{id:"_3-6-空值的处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-空值的处理"}},[s._v("#")]),s._v(" 3.6 空值的处理")]),s._v(" "),a("p",[s._v("使用 IS NULL 或 IS NOT NULL 判断一个属性的值是否为空值。")]),s._v(" "),a("p",[s._v("示例：从 Student 表中找出漏填了数据的学生信息。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" Ssex "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("属性定义（或者域定义）中：")]),s._v(" "),a("ul",[a("li",[s._v("有 NOT NULL 约束条件的不能取空值")]),s._v(" "),a("li",[s._v("加了 UNIQUE 限制的属性不能取空值")]),s._v(" "),a("li",[s._v("码属性不能取空值")])]),s._v(" "),a("h2",{attrs:{id:"_3-7-视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-视图"}},[s._v("#")]),s._v(" 3.7 视图")]),s._v(" "),a("p",[s._v("视图是从一个或几个"),a("strong",[s._v("基本表导出的表")]),s._v("。视图本身不独立存储在数据库中，是一个"),a("strong",[s._v("虚表")]),s._v("。即数据库中"),a("strong",[s._v("只存放视图的定义")]),s._v("而不存放视图对应的数据，这些数据仍存放在导出视图的基本表中。")]),s._v(" "),a("p",[s._v("视图在概念上与基本表等同，用户可以如同基本表那样使用视图，可以在视图上再定义视图。")]),s._v(" "),a("h3",{attrs:{id:"定义视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义视图"}},[s._v("#")]),s._v(" 定义视图")]),s._v(" "),a("h4",{attrs:{id:"建立视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立视图"}},[s._v("#")]),s._v(" 建立视图")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("视图名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("子查询"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("strong",[s._v("WITH CHECK OPTION")]),s._v("：对视图进行 UPDATE、INSERT 和 DELETE 操作时要保证更新、插入或删除的行满足视图定义中的谓词条件（即子查询中的条件表达式）。")]),s._v(" "),a("p",[s._v("子查询可以是任意的 SELECT 语句，是否可以含有 ORDER BY 子句和 DISTINCT 短语，则决定具体系统的实现。")]),s._v(" "),a("p",[s._v("关系数据库管理系统执行 CREATE VIEW 语句时 "),a("strong",[s._v("只是把视图定义存入数据字典")]),s._v("，并不执行其中的 SELECT 语句。在对视图查询时，按视图的定义从基本表中将数据查出。")]),s._v(" "),a("p",[s._v("示例：建立信息系学生的视图，并要求进行修改和插入操作时仍需保证该视图只有信息系的学生 。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" IS_Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IS'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("若一个视图是 "),a("strong",[s._v("从单个基本表导出的")]),s._v("，并且只是去掉了基本表的某些行和某些列，但保留了主码，我们称这类视图为 "),a("strong",[s._v("行列子集视图")]),s._v("。")]),s._v(" "),a("h4",{attrs:{id:"删除视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除视图"}},[s._v("#")]),s._v(" 删除视图")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("视图名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("该语句从数据字典中删除指定的视图定义。")]),s._v(" "),a("p",[s._v("如果该视图上还导出了其他视图，使用 CASCADE 级联删除语句，把该视图和由它导出的所有视图一起删除。")]),s._v(" "),a("p",[s._v("删除基表时，由该基表导出的所有视图定义都必须显式地使用 DROP VIEW 语句删除。")]),s._v(" "),a("h3",{attrs:{id:"查询视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询视图"}},[s._v("#")]),s._v(" 查询视图")]),s._v(" "),a("p",[s._v("用户角度：查询视图与查询基本表相同。")]),s._v(" "),a("p",[s._v("关系数据库管理系统实现视图查询的方法：视图消解法。")]),s._v(" "),a("ul",[a("li",[s._v("进行有效性检查")]),s._v(" "),a("li",[s._v("转换成等价的对基本表的查询")]),s._v(" "),a("li",[s._v("执行修正后的查询")])]),s._v(" "),a("p",[s._v("示例：在信息系学生的视图中找出年龄小于 20 岁的学生。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" IS_Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("视图消解转换后的查询语句为：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Sage       \n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Student\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sdept "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IS'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" Sage "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("strong",[s._v("视图消解法的局限")]),s._v("：有些情况下，视图消解法不能生成正确的查询。")]),s._v(" "),a("h3",{attrs:{id:"更新视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新视图"}},[s._v("#")]),s._v(" 更新视图")]),s._v(" "),a("p",[s._v("示例：将信息系学生视图中学号 ”201215122” 的学生姓名改为 ”刘辰”。")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" IS_Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" Sname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'刘辰'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' 201215122 '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("视图消解转换后的更新语句为：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" Student\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" Sname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'刘辰'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'201215122'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" Sdept"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("插入、删除记录类似。")]),s._v(" "),a("p",[a("strong",[s._v("更新视图的限制")]),s._v("：一些视图是不可更新的，因为对这些视图的更新不能唯一地有意义地转换成对相应基本表的更新。")]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" S_G "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Gavg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Grade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" SC\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" Sno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" S_G\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" Gavg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Sno "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'201215121'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("p",[s._v("基本表的 "),a("strong",[s._v("行列子集视图一般是可更新的")]),s._v("。")]),s._v(" "),a("p",[s._v("若视图的属性来自 "),a("strong",[s._v("聚集函数、表达式")]),s._v("，则该视图肯定是不可以更新的。")])]),s._v(" "),a("h3",{attrs:{id:"视图的优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图的优点"}},[s._v("#")]),s._v(" 视图的优点")]),s._v(" "),a("p",[s._v("视图能够 "),a("strong",[s._v("简化用户的操作")]),s._v("。")]),s._v(" "),a("p",[s._v("视图使用户能 "),a("strong",[s._v("以多种角度看待同一数据")]),s._v("。")]),s._v(" "),a("p",[s._v("视图对重构数据库提供了一定程度的 "),a("strong",[s._v("逻辑独立性")]),s._v("。")]),s._v(" "),a("p",[s._v("视图能够对机密数据提供 "),a("strong",[s._v("安全保护")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])}),[],!1,null,null,null);t.default=n.exports}}]);